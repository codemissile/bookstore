{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Misal\\\\Desktop\\\\bookstore\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./main.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Catalog() {\n  _s();\n  const [books, setBooks] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/catalog\").then(res => setBooks(res.data)).catch(err => console.error(\"Catalog fetch error:\", err));\n  }, []);\n  const addToCart = bookId => {\n    axios.post(\"http://localhost:8081/cart/add\", {\n      bookId\n    }).then(() => console.log(\"Added to cart:\", bookId)).catch(err => console.error(\"Add to cart error:\", err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Catalog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: books.map(book => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: book.image_url,\n          alt: book.title,\n          width: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 25\n        }, this), book.title, \" by \", book.author, \" - $\", typeof book.price === \"number\" ? book.price.toFixed(2) : parseFloat(book.price).toFixed(2), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart(book.id),\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 25\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/cart\",\n      children: \"Go to Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 9\n  }, this);\n}\n_s(Catalog, \"ww1JAI05mMsgubm5EIyBKqdj5S0=\");\n_c = Catalog;\nfunction Cart() {\n  _s2();\n  const [cartItems, setCartItems] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(\"http://localhost:8081/cart\").then(res => setCartItems(res.data)).catch(err => console.error(\"Cart fetch error:\", err));\n  }, []);\n  const handleCheckout = () => {\n    const sessionId = localStorage.getItem(\"sessionId\");\n    axios.post(\"http://localhost:8081/cart/order\", {\n      customerName: \"Anonymous\"\n    }, {\n      headers: {\n        \"Session-ID\": sessionId\n      }\n    }).then(res => {\n      console.log(res.data);\n      alert(\"Order placed successfully!\");\n      navigate(\"/catalog\");\n    }).catch(err => console.error(\"Order error:\", err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.title, \" - $\", typeof item.price === \"number\" ? item.price.toFixed(2) : parseFloat(item.price).toFixed(2), \" x \", item.quantity]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCheckout,\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/catalog\",\n      children: \"Back to Catalog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s2(Cart, \"X1Cg+yrFJT2G/h4BSNE9/5vv8jY=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Cart;\nfunction App() {\n  _s3();\n  useEffect(() => {\n    axios.post(\"http://localhost:8081/cart/session\").then(res => localStorage.setItem(\"sessionId\", res.data)).catch(err => console.error(\"Session error:\", err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Catalog, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/catalog\",\n        element: /*#__PURE__*/_jsxDEV(Catalog, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/cart\",\n        element: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n_s3(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Catalog\");\n$RefreshReg$(_c2, \"Cart\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","useNavigate","axios","jsxDEV","_jsxDEV","Catalog","_s","books","setBooks","get","then","res","data","catch","err","console","error","addToCart","bookId","post","log","children","fileName","_jsxFileName","lineNumber","columnNumber","map","book","src","image_url","alt","title","width","author","price","toFixed","parseFloat","onClick","id","href","_c","Cart","_s2","cartItems","setCartItems","navigate","handleCheckout","sessionId","localStorage","getItem","customerName","headers","alert","item","quantity","_c2","App","_s3","setItem","path","element","_c3","$RefreshReg$"],"sources":["C:/Users/Misal/Desktop/bookstore/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./main.css\";\r\n\r\nfunction Catalog() {\r\n    const [books, setBooks] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/catalog\")\r\n            .then(res => setBooks(res.data))\r\n            .catch(err => console.error(\"Catalog fetch error:\", err));\r\n    }, []);\r\n\r\n    const addToCart = (bookId) => {\r\n        axios.post(\"http://localhost:8081/cart/add\", { bookId })\r\n            .then(() => console.log(\"Added to cart:\", bookId))\r\n            .catch(err => console.error(\"Add to cart error:\", err));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Catalog</h1>\r\n            <ul>\r\n                {books.map(book => (\r\n                    <li key={book.id}>\r\n                        <img src={book.image_url} alt={book.title} width=\"50\" />\r\n                        {book.title} by {book.author} - $\r\n                        {typeof book.price === \"number\" ? book.price.toFixed(2) : parseFloat(book.price).toFixed(2)}\r\n                        <button onClick={() => addToCart(book.id)}>Add to Cart</button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            <a href=\"/cart\">Go to Cart</a>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Cart() {\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:8081/cart\")\r\n            .then(res => setCartItems(res.data))\r\n            .catch(err => console.error(\"Cart fetch error:\", err));\r\n    }, []);\r\n\r\n    const handleCheckout = () => {\r\n        const sessionId = localStorage.getItem(\"sessionId\");\r\n        axios.post(\"http://localhost:8081/cart/order\", { customerName: \"Anonymous\" }, { headers: { \"Session-ID\": sessionId } })\r\n            .then(res => {\r\n                console.log(res.data);\r\n                alert(\"Order placed successfully!\");\r\n                navigate(\"/catalog\");\r\n            })\r\n            .catch(err => console.error(\"Order error:\", err));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Cart</h1>\r\n            <ul>\r\n                {cartItems.map(item => (\r\n                    <li key={item.id}>\r\n                        {item.title} - ${typeof item.price === \"number\" ? item.price.toFixed(2) : parseFloat(item.price).toFixed(2)} x {item.quantity}\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            <button onClick={handleCheckout}>Checkout</button>\r\n            <a href=\"/catalog\">Back to Catalog</a>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction App() {\r\n    useEffect(() => {\r\n        axios.post(\"http://localhost:8081/cart/session\")\r\n            .then(res => localStorage.setItem(\"sessionId\", res.data))\r\n            .catch(err => console.error(\"Session error:\", err));\r\n    }, []);\r\n\r\n    return (\r\n        <Router>\r\n            <Routes>\r\n                <Route path=\"/\" element={<Catalog />} /> {/* Home page as catalog */}\r\n                <Route path=\"/catalog\" element={<Catalog />} />\r\n                <Route path=\"/cart\" element={<Cart />} />\r\n            </Routes>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}