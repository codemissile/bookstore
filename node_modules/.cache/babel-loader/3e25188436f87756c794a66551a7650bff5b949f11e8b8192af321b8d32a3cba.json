{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Misal\\\\Desktop\\\\bookstore\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./main.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Catalog() {\n  _s();\n  const [books, setBooks] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/catalog\").then(res => setBooks(res.data)).catch(err => console.error(\"Catalog fetch error:\", err));\n  }, []);\n  const addToCart = bookId => {\n    axios.post(\"http://localhost:8081/cart/add\", {\n      bookId\n    }).then(() => console.log(\"Added to cart:\", bookId)).catch(err => console.error(\"Add to cart error:\", err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"catalog\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Book Catalog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: books.map(book => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: book.image_url,\n          alt: book.title,\n          style: {\n            width: \"100px\",\n            height: \"auto\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: book.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 29\n          }, this), \" by \", book.author, \" - $\", book.price.toFixed(2), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => addToCart(book.id),\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 25\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n}\n_s(Catalog, \"ww1JAI05mMsgubm5EIyBKqdj5S0=\");\n_c = Catalog;\nfunction Cart() {\n  _s2();\n  const [cartItems, setCartItems] = useState([]);\n  const [customerName, setCustomerName] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(\"http://localhost:8081/cart\").then(res => setCartItems(res.data)).catch(err => console.error(\"Cart fetch error:\", err));\n  }, []);\n  const handleCheckout = () => {\n    if (!customerName) {\n      alert(\"Please enter your name\");\n      return;\n    }\n    const sessionId = localStorage.getItem(\"sessionId\");\n    axios.post(\"http://localhost:8081/cart/order\", {\n      customerName\n    }, {\n      headers: {\n        \"Session-ID\": sessionId\n      }\n    }).then(res => {\n      console.log(res.data);\n      alert(\"Order placed successfully!\");\n      navigate(\"/catalog\"); // Redirect after order\n    }).catch(err => console.error(\"Order error:\", err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: customerName,\n      onChange: e => setCustomerName(e.target.value),\n      placeholder: \"Your Name\",\n      style: {\n        marginBottom: \"10px\",\n        padding: \"5px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.title, \" - $\", item.price.toFixed(2), \" x \", item.quantity]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCheckout,\n      children: \"Place Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_s2(Cart, \"G06MAk8aOMU+W71Y2K5oA69VtZY=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Cart;\nfunction App() {\n  _s3();\n  useEffect(() => {\n    axios.post(\"http://localhost:8081/cart/session\").then(res => localStorage.setItem(\"sessionId\", res.data)).catch(err => console.error(\"Session error:\", err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/catalog\",\n        element: /*#__PURE__*/_jsxDEV(Catalog, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/cart\",\n        element: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n}\n_s3(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Catalog\");\n$RefreshReg$(_c2, \"Cart\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","useNavigate","axios","jsxDEV","_jsxDEV","Catalog","_s","books","setBooks","get","then","res","data","catch","err","console","error","addToCart","bookId","post","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","book","src","image_url","alt","title","style","width","height","author","price","toFixed","onClick","id","_c","Cart","_s2","cartItems","setCartItems","customerName","setCustomerName","navigate","handleCheckout","alert","sessionId","localStorage","getItem","headers","type","value","onChange","e","target","placeholder","marginBottom","padding","item","quantity","_c2","App","_s3","setItem","path","element","_c3","$RefreshReg$"],"sources":["C:/Users/Misal/Desktop/bookstore/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./main.css\";\r\n\r\nfunction Catalog() {\r\n    const [books, setBooks] = useState([]);\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/catalog\")\r\n            .then(res => setBooks(res.data))\r\n            .catch(err => console.error(\"Catalog fetch error:\", err));\r\n    }, []);\r\n\r\n    const addToCart = (bookId) => {\r\n        axios.post(\"http://localhost:8081/cart/add\", { bookId })\r\n            .then(() => console.log(\"Added to cart:\", bookId))\r\n            .catch(err => console.error(\"Add to cart error:\", err));\r\n    };\r\n\r\n    return (\r\n        <div className=\"catalog\">\r\n            <h1>Book Catalog</h1>\r\n            <ul>\r\n                {books.map(book => (\r\n                    <li key={book.id}>\r\n                        <img src={book.image_url} alt={book.title} style={{ width: \"100px\", height: \"auto\" }} />\r\n                        <div>\r\n                            <strong>{book.title}</strong> by {book.author} - ${book.price.toFixed(2)}\r\n                            <button onClick={() => addToCart(book.id)}>Add to Cart</button>\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Cart() {\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const [customerName, setCustomerName] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:8081/cart\")\r\n            .then(res => setCartItems(res.data))\r\n            .catch(err => console.error(\"Cart fetch error:\", err));\r\n    }, []);\r\n\r\n    const handleCheckout = () => {\r\n        if (!customerName) {\r\n            alert(\"Please enter your name\");\r\n            return;\r\n        }\r\n        const sessionId = localStorage.getItem(\"sessionId\");\r\n        axios.post(\"http://localhost:8081/cart/order\", { customerName }, { headers: { \"Session-ID\": sessionId } })\r\n            .then(res => {\r\n                console.log(res.data);\r\n                alert(\"Order placed successfully!\");\r\n                navigate(\"/catalog\"); // Redirect after order\r\n            })\r\n            .catch(err => console.error(\"Order error:\", err));\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>Shopping Cart</h1>\r\n            <input\r\n                type=\"text\"\r\n                value={customerName}\r\n                onChange={e => setCustomerName(e.target.value)}\r\n                placeholder=\"Your Name\"\r\n                style={{ marginBottom: \"10px\", padding: \"5px\" }}\r\n            />\r\n            <ul>\r\n                {cartItems.map(item => (\r\n                    <li key={item.id}>\r\n                        {item.title} - ${item.price.toFixed(2)} x {item.quantity}\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            <button onClick={handleCheckout}>Place Order</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction App() {\r\n    useEffect(() => {\r\n        axios.post(\"http://localhost:8081/cart/session\")\r\n            .then(res => localStorage.setItem(\"sessionId\", res.data))\r\n            .catch(err => console.error(\"Session error:\", err));\r\n    }, []);\r\n\r\n    return (\r\n        <Router>\r\n            <Routes>\r\n                <Route path=\"/catalog\" element={<Catalog />} />\r\n                <Route path=\"/cart\" element={<Cart />} />\r\n            </Routes>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}